BAŞLIK: SINIFLANDIRMA PROBLEMLERİNDE BAŞARI DEĞERLENDİRME
TÜR: Performans Metrikleri ve Hata Analizi

================================================================================
1. GİRİŞ: NEDEN SADECE "ACCURACY" YETMEZ?
================================================================================
Sınıflandırma (Classification) modellerinde en büyük tuzak, sadece "Doğruluk" (Accuracy) oranına bakmaktır.

Örnek Senaryo (Dengesiz Veri Tuzağı):
Bir veri setinde 990 sağlıklı insan ve 10 kanserli hasta olsun.
Modelimiz "Hiçbir şey öğrenmeden", herkese körü körüne "Sağlıklı" derse ne olur?
- 990 doğru, 10 yanlış yapar.
- Başarı Oranı: %99 Accuracy.
- Sonuç: Mükemmel görünüyor ama aslında 10 hastayı ölüme terk eden "Çöp" bir modeldir.

Bu yüzden, hatanın "türüne" odaklanan detaylı metriklere ihtiyacımız vardır.

================================================================================
2. TEMEL YAPI TAŞI: KARMAŞIKLIK MATRİSİ (CONFUSION MATRIX)
================================================================================
Tüm metrikler bu 4 temel durum üzerine kuruludur.

1. True Positive (TP - Doğru Pozitif):
   - Gerçek: Hasta | Tahmin: Hasta (Doğru bildik).
2. True Negative (TN - Doğru Negatif):
   - Gerçek: Sağlıklı | Tahmin: Sağlıklı (Doğru bildik).
3. False Positive (FP - Yanlış Pozitif / Tip-1 Hata):
   - Gerçek: Sağlıklı | Tahmin: Hasta.
   - Analoji: "Yanlış Alarm". (Yangın yokken alarmın çalması).
4. False Negative (FN - Yanlış Negatif / Tip-2 Hata):
   - Gerçek: Hasta | Tahmin: Sağlıklı.
   - Analoji: "Gözden Kaçırma". (Yangın varken alarmın çalmaması). *Genellikle en tehlikeli hatadır.*

================================================================================
3. KRİTİK METRİKLER (FORMÜLLER VE MANTIK)
================================================================================

A. DOĞRULUK (ACCURACY)
Genel başarı oranıdır.
- Formül: (TP + TN) / (Tüm Veri)
- Ne Zaman Kullanılır?: Sınıflar dengeliyse (Örn: %50 Kedi, %50 Köpek).
- Ne Zaman Kullanılmaz?: Dengesiz veri setlerinde ASLA tek başına kullanılmaz.

B. KESİNLİK (PRECISION)
Modelin "Pozitif" dediklerinin ne kadarı gerçekten pozitif?
- Formül: TP / (TP + FP)
- Soru: "Model 'Dolandırıcı' dediğinde, gerçekten dolandırıcı olma ihtimali nedir?"
- Odak: Yanlış Alarmları (FP) minimize etmek.
- Örnek Senaryo: YouTube çocuk videoları filtresi. Normal bir videoya "Sakıncalı" derseniz (FP), içerik üreticisi haksız yere para kaybeder. Burada Precision yüksek olmalıdır.

C. DUYARLILIK (RECALL / SENSITIVITY)
Gerçek pozitiflerin ne kadarını yakalayabildik?
- Formül: TP / (TP + FN)
- Soru: "Ortadaki tüm suçluların yüzde kaçını tespit ettik?"
- Odak: Gözden Kaçırmayı (FN) minimize etmek.
- Örnek Senaryo: Kanser teşhisi veya Terörist tespiti. Bir hastayı/suçluyu kaçırmak (FN) felakettir. Yanlış alarm vermek (FP) tolere edilebilir. Burada Recall en önemli metriktir.

D. F1-SKORU (F1-SCORE)
Precision ve Recall arasında bir denge (Harmonik Ortalama) kurar.
- Formül: 2 * (Precision * Recall) / (Precision + Recall)
- Özellik: Eğer Precision veya Recall'dan biri çok düşükse, F1-Skoru da çakılır. İkisinin de iyi olmasını zorunlu kılar.
- Kullanım: Dengesiz veri setlerinde (Imbalanced Data) modelin genel başarısını ölçmek için en güvenilir metriktir.

================================================================================
4. GÖRSEL DEĞERLENDİRME: ROC VE AUC
================================================================================
Bazen katı bir "Sınıf" (0 veya 1) yerine, modelin ürettiği "Olasılık" (0.78, 0.45 vb.) kalitesini ölçmek isteriz.

A. ROC EĞRİSİ (RECEIVER OPERATING CHARACTERISTIC)
- X Ekseni: False Positive Rate (Yanlış Alarm Oranı)
- Y Ekseni: True Positive Rate (Recall - Yakalama Oranı)
- Mantık: Eşik değerini (Threshold) değiştirdikçe modelin başarısı nasıl değişiyor?
- Yorum: Eğri ne kadar sol üst köşeye yakınsa o kadar iyidir.

B. AUC (AREA UNDER CURVE - EĞRİ ALTI ALANI)
ROC eğrisinin altında kalan alandır. Tek bir sayı ile model kalitesini verir.
- 0.5: Yazı Tura (Rastgele tahmin eden model).
- 0.7 - 0.8: Kabul edilebilir.
- 0.8 - 0.9: İyi.
- 0.9+: Mükemmel.
- Avantajı: Sınıf dağılımından veya eşik değerinden bağımsızdır. Modelin ayrıştırma gücünü gösterir.

================================================================================
5. ÇOKLU SINIFLANDIRMA (MULTI-CLASS METRICS)
================================================================================
İkiden fazla sınıf varsa (Kedi, Köpek, Kuş), metrikler nasıl hesaplanır?

1. Macro Average:
   Her sınıf için (Precision/Recall) ayrı ayrı hesaplanır ve aritmetik ortalaması alınır. Azınlık sınıflara da eşit önem verir.

2. Micro Average:
   Tüm sınıflardaki TP, FP, FN sayıları havuza atılır ve genel bir skor hesaplanır. Çoğunluk sınıfın başarısı skoru domine eder.

3. Weighted Average:
   Her sınıfın skoru, o sınıfın veri setindeki ağırlığına (örnek sayısına) göre çarpılarak ortalanır.

================================================================================
6. SENARYO BAZLI SEÇİM REHBERİ (CHEAT SHEET)
================================================================================

SENARYO                                      | ODAK NOKTASI      | HANGİ METRİK?
-------------------------------------------- | ----------------- | -------------------
Spam Filtresi (Önemli mail çöp kutusuna gitmesin)| Yanlış Alarm (FP) | Precision
Banka Kredi Onayı (Batamayacak kişiye verelim)| Yanlış Pozitif (FP)| Precision
Kanser Teşhisi (Hasta olanı asla kaçırma)    | Gözden Kaçırma (FN)| Recall (Sensitivity)
Hırsız Alarmı (Hırsız girerse mutlaka çalmalı)| Gözden Kaçırma (FN)| Recall
Kredi Kartı Dolandırıcılığı (Veri çok dengesiz)| Denge             | F1-Score / AUC
Müzik Türü Sınıflandırma (Veri dengeli)      | Genel Başarı      | Accuracy

================================================================================
ÖZET FORMÜL TABLOSU
================================================================================
METRİK      | FORMÜL                 | ANLAMI
----------- | ---------------------- | -------------------------------------
Accuracy    | (TP+TN) / Tümü         | Genel doğruluk oranı.
Precision   | TP / (TP+FP)           | "Buldum" dediklerinin kalitesi.
Recall      | TP / (TP+FN)           | "Var olanları" bulma kapasitesi.
F1-Score    | 2*P*R / (P+R)          | Precision ve Recall'un ortası.
Specifity   | TN / (TN+FP)           | Negatifleri doğru bulma oranı.