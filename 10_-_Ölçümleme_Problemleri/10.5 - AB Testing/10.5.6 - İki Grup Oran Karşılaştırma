# İKİ GRUP ORAN KARŞILAŞTIRMA TESTİ (TWO-PROPORTION Z-TEST)

## 1. Nedir?

İki Grup Oran Karşılaştırma Testi (Two-Proportion Z-Test); birbirinden bağımsız iki grubun başarı oranları 
(yüzdeleri) arasında istatistiksel olarak anlamlı bir fark olup olmadığını test eden yöntemdir.

T-Testi ile en çok karıştırılan konudur. Fark şudur:
* **T-Testi:** "Ortalama ne kadar harcadılar?" (Sayısal/Sürekli Veri - Örn: 100 TL vs 120 TL) sorusuna bakar.
* **Oran Testi (Z-Test):** "Yüzde kaçı satın aldı?" (Kategorik/Oransal Veri - Örn: %5 vs %7) sorusuna bakar.

Veriniz **"Evet/Hayır"**, **"Tıkladı/Tıklamadı"**, **"Aldı/Almadı"** şeklindeyse bu testi kullanırsınız.

---

## 2. Neden Buna İhtiyaç Duyarız?

Dijital pazarlama ve ürün geliştirmede genellikle "Dönüşüm Oranları" (Conversion Rate) konuşulur.

**Örnek Senaryo:**
Bir web sitesinde iki farklı başlık deniyorsunuz:
* **Başlık A:** 1000 kişi gördü, 100 kişi tıkladı. (**Oran: %10**)
* **Başlık B:** 1000 kişi gördü, 120 kişi tıkladı. (**Oran: %12**)

B Grubu %2 daha iyi görünüyor. Ancak bu %2'lik fark, sadece o anlık bir şans mı? Yoksa B başlığı gerçekten daha 
mı etkileyici? Eğer 1000 kişi değil de 1 milyon kişi görseydi bu fark devam eder miydi? Bunu anlamak için bu testi yaparız.

---

## 3. Hipotezlerin Kurulması

Tıpkı diğer testlerde olduğu gibi burada da iki iddia yarışır:

* **H0 (Yokluk Hipotezi):** $p_1 = p_2$
    * "İki grubun başarı oranları birbirine eşittir. Aradaki fark tamamen tesadüftür."
* **H1 (Alternatif Hipotez):** $p_1 \neq p_2$
    * "İki grubun başarı oranları arasında istatistiksel olarak anlamlı bir fark vardır."

---

## 4. Testin Varsayımları (Assumptions)

Bu testin güvenilir olması için şu şartların sağlanması gerekir:

1.  **Bağımsızlık:** Bir kullanıcı hem A hem B grubunda olamaz.
2.  **Rastgelelik:** Örneklemler rastgele seçilmelidir.
3.  **Yeterli Örneklem Büyüklüğü (n > 30 Kuralı):**
    Her grupta en az belirli sayıda başarı (örneğin en az 10 satış) ve başarısızlık olmalıdır. Çok küçük verilerde 
    (Örn: 5 kişi gördü, 1 kişi aldı) bu test çalışmaz.

---

## 5. Pratik Uygulama Örneği (Dönüşüm Oranı Testi)

Bir e-ticaret sitesi, "Sepete Ekle" butonunun rengini Mavi'den Yeşil'e çevirip test ediyor.

**Veriler:**
* **Grup A (Mavi - Mevcut):**
    * Görüntülenme: 2000
    * Satın Alma: 400
    * **Dönüşüm Oranı: %20 (0.20)**

* **Grup B (Yeşil - Yeni):**
    * Görüntülenme: 2000
    * Satın Alma: 450
    * **Dönüşüm Oranı: %22.5 (0.225)**

**Soru:** Aradaki %2.5'luk fark anlamlı mı?

**Test Süreci:**
Bu veriler `proportions_ztest` (Python/Statsmodels) fonksiyonuna sokulur.

**Sonuç:**
* **Z-Score:** -1.98
* **P-Value:** 0.047

**Karar ve Yorum:**
P değeri (**0.047**), kritik sınır olan **0.05'ten KÜÇÜKTÜR.**
* **Yorum:** H0 Reddedilir.
* **İş Dünyası Dili:** "Mavi ve Yeşil buton arasındaki fark şans eseri değildir. Yeşil buton istatistiksel olarak 
(%95 güvenle) daha fazla satış getirmektedir. Yeşil butona geçiş yapılmalıdır."

---

## 6. Kritik Uyarı: Örneklem Sayısının Önemi

Oran testlerinde örneklem sayısı (Sample Size) hayati önem taşır.

* Eğer yukarıdaki örnekte aynı oranları (**%20 vs %22.5**) sadece **100'er kişiyle** test etseydik;
* P-Value muhtemelen **0.60** falan çıkardı (Fark Yok derdi).

Çünkü az kişiyle yapılan testlerde %2.5'luk bir farkın tesadüf olma ihtimali çok yüksektir. Ancak 2000 kişiyle 
yapıldığında bu farkın tesadüf olma ihtimali düşer ve test "anlamlı" sonucunu verir.

---

## ÖZET TABLO: T-Testi mi Yoksa Oran Testi mi?

Hangi testi seçeceğinizi veri tipinize bakarak anlarsınız:

| Soru | Veri Tipi | Örnek Veri | Kullanılacak Test |
| :--- | :--- | :--- | :--- |
| **Ortalamalar farklı mı?** | Sayısal (Continuous) | Sepet Tutarı (150 TL), Yaş (30), Süre (5 dk) | **T-Testi (Independent)** |
| **Oranlar farklı mı?** | Kategorik (Binary) | Satın Aldı (1/0), Tıkladı (Evet/Hayır), Bozuk/Sağlam | **İki Grup Oran Testi (Z-Test)** |