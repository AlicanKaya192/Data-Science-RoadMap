# TAVSİYE SİSTEMLERİ (RECOMMENDATION SYSTEMS) KAPSAMLI REHBERİ

## 1. Tavsiye Sistemi Nedir?

Tavsiye sistemleri; kullanıcıların geçmiş davranışlarını (tıklama, izleme, satın alma) veya ürünlerin özelliklerini analiz ederek, kullanıcının ilgisini 
çekebilecek en doğru içeriği **tahmin eden ve filtreleyen** algoritmalardır.

Netflix'in "Senin için Önerilenler" listesi, Amazon'un "Bunu alan bunları da aldı" kuşağı veya Spotify'ın "Haftalık Keşif" listesi birer tavsiye sistemidir.

Amacı şudur: **"Bilgi yığını (Information Overload) içinde kaybolan kullanıcıya, en alakalı seçeneği sunmak."**

---

## 2. Kullanılan Temel Yöntemler ve Algoritmalar

Tavsiye sistemleri tek bir yöntemle çalışmaz. Verinin yapısına göre 4 ana strateji kullanılır:

### A. Birliktelik Kuralı Analizi (Association Rule Learning - ARL)
**Felsefesi:** "Birlikte alınanlar, gelecekte de birlikte alınacaktır." (Sepet Analizi).
Bu yöntem kullanıcıyı tanımaz. Sadece o an sepette ne olduğuna bakar.

**Kullanılan Algoritma:** Apriori Algoritması.

**Örnek Senaryo (Market):**
Bir marketin fişlerini inceliyoruz.
* **Kural:** {Ekmek, Yumurta} alanların %80'i {Peynir} de almış.
* **Aksiyon:** Biri sepete Ekmek ve Yumurta atarsa, sisteme hemen "Peynir" önerisi çıkar.

**Kritik Metrikler:**
1.  **Support (Destek):** İki ürünün birlikte görülme sıklığı. (Ne kadar popüler?)
2.  **Confidence (Güven):** X alındığında Y'nin alınma olasılığı. (Ne kadar güvenilir?)
3.  **Lift (Kazanç):** X'in satışı, Y'nin satışını kaç kat artırıyor? (En önemli metrik budur. Eğer Lift > 1 ise ürünler arasında güçlü ilişki vardır).

---

### B. İçerik Temelli Filtreleme (Content-Based Filtering)
**Felsefesi:** "Sen bu ürünü sevdin, ben de sana **buna benzer özelliklere sahip** başka bir ürün önereceğim."
Burada topluluk (diğer insanlar) önemli değildir. Ürünün "Meta Verisi" (Özellikleri) önemlidir.

**Nasıl Çalışır? (Örnek: Film Önerisi)**
1.  **Kullanıcı Profili:** Kullanıcı *Matrix* ve *Inception* filmlerine yüksek puan verdi.
2.  **Ürün Özellikleri (Feature Extraction):** Sistem bu filmleri analiz eder.
    * Tür: Bilim Kurgu
    * Oyuncu: Keanu Reeves, Leonardo DiCaprio
    * Konu: Distopya, Rüya
3.  **Benzerlik Hesabı:** Veritabanındaki diğer filmlere bakar. *Interstellar* filminin özellikleri (Bilim Kurgu, Distopya) ile eşleşme sağlar.
4.  **Öneri:** Sistem *Interstellar*'ı önerir.

**Kullanılan Teknikler:**
* **TF-IDF:** Metinlerin (Film özetlerinin) matematiğe dökülmesi.
* **Cosine Similarity:** İki film vektörü arasındaki açının (benzerliğin) ölçülmesi.

---

### C. İşbirlikçi Filtreleme (Collaborative Filtering)
**Felsefesi:** "Zevkleri sana benzeyen insanlar bunu beğendi, sen de beğenebilirsin."
Ürünün ne olduğu (rengi, türü) önemli değildir. **Kullanıcı davranışları (User Behavior)** önemlidir. İkiye ayrılır:

#### 1. Item-Based (Ürün Tabanlı) Collaborative Filtering
"Bu ürünü beğenenler, şu ürünü de beğendi." mantığıdır.
* **Örnek:** Amazon.
* Sistem kullanıcılara değil, ürünlere odaklanır. *Harry Potter 1* kitabına yüksek puan verenlerin çoğu *Harry Potter 2*'ye de yüksek puan vermiştir. 
O zaman bu iki kitap "kardeştir". Sen 1'i alırsan, sana 2'yi önerir.
* **Avantajı:** Daha stabildir. Kullanıcı zevkleri değişebilir ama ürünlerin arasındaki ilişki kolay kolay değişmez.

#### 2. User-Based (Kullanıcı Tabanlı) Collaborative Filtering
"Senin davranışların Ahmet'e çok benziyor. Ahmet bunu sevdi, sen de seversin." mantığıdır.
* **Örnek:**
    * **Sen:** A, B, C filmlerini izledin.
    * **Ahmet:** A, B, C, **D** filmlerini izledi.
    * Sistem der ki: "Sen ve Ahmet %90 benziyorsunuz (Komşusunuz). Ahmet D filmini sevmiş, o zaman sana D filmini öneriyorum."

---

### D. Model Tabanlı Yöntemler (Matrix Factorization)
**Felsefesi:** "Boşlukları doldurma sanatıdır."
Büyük verilerde (Big Data) kullanılır. Devasa bir tablo düşünün:

| Kullanıcı | Film A | Film B | Film C | Film D |
| :--- | :--- | :--- | :--- | :--- |
| **Ali** | 5 Puan | ? | 4 Puan | ? |
| **Ayşe** | ? | 2 Puan | ? | 5 Puan |

Buradaki soru işaretlerini (izlenmemiş filmleri) tahmin etmek için **SVD (Singular Value Decomposition)** veya 
Derin Öğrenme (Deep Learning) yöntemleri kullanılır. Sistem, kullanıcının ve filmin "gizli özelliklerini" (Latent Factors) bulur ve olası puanı hesaplar.

---

## 3. Benzerlik Nasıl Hesaplanır? (İşin Matematiği)

Sistemin "Bu film buna benziyor" veya "Bu kullanıcı sana benziyor" demesi için matematiksel bir ölçüme ihtiyacı vardır.

### 1. Cosine Similarity (Kosinüs Benzerliği)
İki vektör arasındaki açının kosinüsünü alır.
* **Amaç:** Yöne bakar. İki kullanıcı da filmlere aynı trendde mi puan veriyor?
* **Değer:** -1 ile 1 arasındadır. 1'e yakınsa "Kanka", -1 ise "Zıt Karakter"dir.

### 2. Pearson Korelasyonu
Kullanıcıların puanlama alışkanlıklarını (biri çok bonkör, biri çok cimri olabilir) normalize ederek ilişkiye bakar.

### 3. Euclidean Distance (Öklid Mesafesi)
Kuş bakışı uzaklıktır. İki puan arasındaki sayısal farkı ölçer.

---

## 4. Karşılaşılan Temel Sorunlar

Tavsiye sistemlerinin en büyük kabusu şudur:

### Cold Start Problem (Soğuk Başlangıç Problemi)
Sisteme **yeni bir ürün** eklendiğinde veya sisteme **yeni bir kullanıcı** üye olduğunda ne olacak?
* Yeni ürünün hiç puanı yok -> Kimseye önerilemez.
* Yeni kullanıcının hiç geçmişi yok -> Ona ne önereceğimizi bilemeyiz.

**Çözüm:**
* Yeni kullanıcılara "Popüler Ürünler" önerilir.
* Kayıt olurken "Hangi türleri seversin?" diye sorulur.
* **Hibrit Sistem:** İçerik temelli (Content-Based) yöntem devreye girer (Hiç izlenmese bile ürünün türü bellidir, oradan öneri yapılır).

---

## ÖZET TABLO: Hangi Yöntem Nerede Kullanılır?

| Yöntem | Odak Noktası | Artıları | Eksileri | Örnek Kullanım |
| :--- | :--- | :--- | :--- | :--- |
| **Association Rule (ARL)** | Ürünlerin Birlikteliği | Kullanıcı profiline gerek duymaz. | Kişiselleştirme yoktur. | Market Sepeti |
| **Content-Based** | Ürün Özellikleri | Yeni ürünleri hemen önerebilir. | Hep aynı tarz öneriler (Fanus etkisi). | Haber Siteleri |
| **Item-Based Collab.** | Ürün-Ürün İlişkisi | Performanslı ve stabildir. | Veri seyrekliği (Sparsity) sorunu. | Amazon, YouTube |
| **User-Based Collab.** | Kullanıcı Benzerliği | Sürpriz ve nokta atışı keşifler sağlar. | Yeni kullanıcı (Cold Start) sorunu. | Sosyal Ağlar |
| **Model-Based (Matrix)** | Gizli Özellikler | En yüksek tahmin başarısı. | Açıklanabilirliği zordur (Black Box). | Netflix, Spotify |